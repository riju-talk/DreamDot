Okay as you can see that there is a chat folder in the apps folder, I need you to nitialise a socker.io server there which will be used by the web folder's next.js project for communication,

here is a list of things I need done:
   - Initialize a Socket.IO server in the chat folder
   - Set up basic event handling for connections and messages
   - Integrate the Socket.IO server with the Next.js app in the web folder
   - Ensure proper CORS settings are in place for communication
   - The communication should be end-to-end encrypted and users can also communicate with media files like pictures, audio, and video.

This is a list of things I need you to do for next.js:
    - fix all the database connections with mongo as mongo will be used for chatting
    - implement the socket.io client in the chat components
    - the route where texting is happening is /messages. go into the src folder and then into app and then into messages. fix all the code there.
    - the api routes should be correct, in chat there should be four endpoints, look into the api folder and explore all the folders there.

I need the below functionalities, fixed and complete:
    - Implement real-time messaging using Socket.IO
    - Ensure all messages are stored in the MongoDB database
    - Allow users to send and receive media files (images, audio, video)
    - Implement user authentication and authorization for chat features
    - Complete fully functioning DMs
    - Complete fully functioning community chats.
    - A perfect UI with respect to the current color scheme.